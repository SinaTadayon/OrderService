syntax = "proto3";

package payment_gateway;

service PaymentGateway{
  rpc GenerateRedirectURL(GenerateRedirRequest) returns (GenerateRedirResponse) {};
  rpc ListGateways(ListGatewaysRequest) returns (ListGatewaysResponse) {};
  rpc GetPaymentResultByOrderID(GetPaymentResultByOrderIdRequest) returns (PaymentRequest) {};
}

message GetPaymentResultByOrderIdRequest{
  string orderID    = 1;
}

message PaymentRequest{
  string  orderID   = 1;
  string  paymentId = 2;
  int64   invoiceId = 3;
  int64   amount    = 4;
  string  cardMask  = 5;
  enum Status {
    PENDING = 0;
    SUCCESS = 1;
    FAIL    = 2;
  }
  Status  status    = 6;
}

message GenerateRedirRequest{
  string  gateway   = 1;
  int64   amount    = 2; 
  string  currency  = 3; 
  string  orderID   = 4;
  string  mobile    = 5;
}


message GenerateRedirResponse{
  string callback_url = 1;
  int64  invoice_id   = 2;
  string payment_id   = 3;
}

message ListGatewaysRequest {
}

message ListGatewaysResponse {
  message GateWay{
    string name = 1;
    string title = 2;
    string logo_image_address = 3;
  }
  repeated GateWay gateways = 1;
}

