syntax = "proto3";

package ordersrv;

import "general/message.proto";

service OrderService {
    rpc OrderRequestsHandler(message.Request) returns (message.Response);

//    rpc NewOrder (OrderPaymentRequest) returns (OrderResponse);
//    rpc SellerApprovalPending (ApprovalRequest) returns (Response);
//    rpc ShipmentDetail (ShipmentDetailRequest) returns (Response);
//    rpc BuyerCancel (BuyerCancelRequest) returns (Response);
//    rpc ShipmentDelivered (ShipmentDeliveredRequest) returns (Response);
//    rpc ShipmentDeliveryDelayed (ShipmentDeliveryDelayedRequest) returns (Response);
//    rpc ReturnShipmentDeliveryDelayed (ReturnShipmentDeliveryDelayedRequest) returns (Response);
//    rpc ShipmentCanceled (ShipmentCanceledRequest) returns (Response);
//    rpc ReturnShipmentCanceled (ReturnShipmentCanceledRequest) returns (Response);
//    rpc ShipmentDeliveryProblem (ShipmentDeliveryProblemRequest) returns (Response);
//    rpc ReturnShipmentDeliveryProblem (ReturnShipmentDeliveryProblemRequest) returns (Response);
//    rpc ShipmentSuccess (ShipmentSuccessRequest) returns (Response);
//    rpc ReturnShipmentPending (ReturnShipmentPendingRequest) returns (Response);
//    rpc ReturnShipmentDetail (ReturnShipmentDetailRequest) returns (Response);
//    rpc ReturnShipmentDelivered (ReturnShipmentDeliveredRequest) returns (Response);
//    rpc ReturnShipmentSuccess (ReturnShipmentSuccessRequest) returns (Response);
//    rpc PayToBuyerSuccess (PayToBuyerSuccessRequest) returns (Response);
//    rpc PayToSellerSuccess (PayToSellerSuccessRequest) returns (Response);
//    rpc PayToMarketSuccess (PayToMarketSuccessRequest) returns (Response);
}

message NewOrderRequest {
    Buyer buyer = 1;
    Amount amount = 2;
    repeated Item items = 3;
}

message Amount {
    int64 total = 1;
    int64 payable = 2;
    int64 discount = 3;
}

message Item {
    string productId = 1;
    int32 quantity = 2;
    string title = 3;
    string brand = 4;
    string categories = 5;
    string warranty = 6;
    ItemSeller seller = 7;
    ItemPrice price = 8;
    ItemShipment shipment = 9;
}

message Buyer {
    string firstName = 1;
    string lastName = 2;
    string mobile = 3;
    string email = 4;
    string nationalId = 5;
    string ip = 6;
    string gender = 7;
    BuyerFinance finance = 8;
    BuyerAddress address = 9;
}

message BuyerFinance {
    string iban = 1;
    string cardNumber = 2;
    string accountNumber = 3;
    string bankName = 4;
}

message BuyerAddress {
    string title = 1;
    string address = 2;
    string phone = 3;
    string country = 4;
    string city = 5;
    string state = 6;
    string lat = 7;
    string lan = 8;
    string zipCode = 9;
}

message ItemSeller {
    string title = 1;
    string firstName = 2;
    string lastName = 3;
    string mobile = 4;
    string email = 5;
    string nationalId = 6;
    string companyName = 7;
    string registrationName = 8;
    string economicCode = 9;
    ItemSellerFinance finance = 10;
    ItemSellerAddress address = 11;
}

message ItemSellerFinance {
    string iban = 1;
    string cardNumber = 2;
    string accountNumber = 3;
    string bankName = 4;
}

message ItemSellerAddress {
    string title = 1;
    string address = 2;
    string phone = 3;
    string country = 4;
    string city = 5;
    string state = 6;
    string lat = 7;
    string lan = 8;
    string zipCode = 9;
}

message ItemPrice {
    int64 unit = 1;
    int64 total = 2;
    int64 payable = 3;
    int64 discount = 4;
    int64 sellerCommission = 5;
}

message ItemShipment {
    string providerName = 1;
    int64 reactionTime = 2;
    int64 shippingTime = 3;
    int64 returnTime = 4;
    string shipmentDetail = 5;
}

// SellerApprovalPending Start
message ApprovalRequest {
    bool approval = 1;
    string reason = 2;
}

//message Response {
//    string orderNumber = 1;
//    string status = 2;
//    string message = 3;
//}
// SellerApprovalPending End

message ShipmentDetailRequest {
    string shipmentProvider = 1;
    string shipmentTrackingNumber = 2;
    string description = 3;
    string image = 4;
}

message BuyerCancelRequest {
    string reason = 1;
}

message ShipmentDeliveredRequest {
//    string orderNumber = 1;
}

message ReturnShipmentDeliveredRequest {
    string operator = 1;
    string reason = 2;
}

message ShipmentDeliveryDelayedRequest {
//    string orderNumber = 1;
}

message ReturnShipmentDeliveryDelayedRequest {
//    string orderNumber = 1;
}

message ShipmentCanceledRequest {
//    string orderNumber = 1;
    string reason = 1;
    string operator = 2;
}

message ReturnShipmentCanceledRequest {
//    string orderNumber = 1;
    string reason = 1;
}

message ShipmentDeliveryProblem {
//    string orderNumber = 1;
    string reason = 1;
}

message ShipmentDeliveryProblemRequest {
//    string orderNumber = 1;
    string reason = 1;
}

message ReturnShipmentDeliveryProblemRequest {
//    string orderNumber = 1;
    string reason = 1;
}

message ShipmentSuccessRequest {
//    string orderNumber = 1;
}

message ReturnShipmentSuccessRequest {
//    string orderNumber = 1;
}

message ReturnShipmentPendingRequest {
//    string orderNumber = 1;
    string reason = 1;
    string operator = 2;
}

message ReturnShipmentDetailRequest {
//    string orderNumber = 1;
    string shipmentProvider = 1;
    string shipmentTrackingNumber = 2;
    string description = 3;
    string image = 4;
}

message PayToBuyerSuccessRequest {
//    string orderNumber = 1;
    string description = 1;
}

message PayToSellerSuccessRequest {
//    string orderNumber = 1;
    string description = 1;
}

message PayToMarketSuccessRequest {
//    string orderNumber = 1;
    string description = 1;
}