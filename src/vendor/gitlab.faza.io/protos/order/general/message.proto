syntax = "proto3";

//go:generate protoc -I . --go_out=plugins=grpc:. message.proto

package message;
import "google/protobuf/any.proto";

message ResponseMetadata {
   string total = 1;
   string page =  2;
   string perPage = 3;
}

message Response {
    string entity = 1;
    string id = 2;
    ResponseMetadata meta = 3;
    google.protobuf.Any Data = 4;
}

// TODO should be design
//message MetaFilters {
//    repeated MetaFilter and = 1;
//    repeated MetaFilter or = 2;
//}

message MetaFilter {
    string name = 1;
    string opt = 2;
    string value = 3;
}

message MetaSorts {
    string name = 1;
    int32 direction = 2;
}

message RequestMetadata {
    int32 page = 1;
    int32 perPage = 2;
    repeated MetaSorts sorts = 3;
    repeated MetaFilter filters = 4;
}

message Request {
    string id = 1;
    int64 time = 2;
    RequestMetadata meta = 3;
    google.protobuf.Any Data = 4;
}
